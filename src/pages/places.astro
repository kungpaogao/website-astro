---
import { getBlock, queryNotionDatabase } from "src/lib/notion-cms";
import Layout from "../layouts/Layout.astro";
import { getPageProperties } from "../lib/notion-cms-page";
import { marked } from "marked";
import { parseBlocks, parseProperty } from "src/lib/notion-parse";
import { format, parseISO } from "date-fns";

// fetch google maps list
// create map using leaflet
// mark places on maps
// fetch db on notion
// match based on id
// display notes and stuff
const pageId = import.meta.env.NOTION_PAGE_ID_PLACES;
const pageProperties = await getPageProperties(pageId);
const pageContent = marked.parse(parseBlocks(await getBlock(pageId)));
---

<Layout {...pageProperties} className="prose mx-auto">
  <Fragment set:html={pageContent} />
</Layout>
